<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <style type="text/css">
      body {
        background: #000
      }
      .portrait {
        transform: rotate(90deg);
        -ms-transform: rotate(90deg);
        -moz-transform: rotate(90deg);
        -webkit-transform: rotate(90deg);
        -o-transform: rotate(90deg);
      }

      .landscape {
        transform: rotate(0deg);
        -ms-transform: rotate(0deg);
        -moz-transform: rotate(0deg);
        -webkit-transform: rotate(0deg);
        -o-transform: rotate(0deg);
      }
    </style>
  </head>
  <body>
    <!-- <p id="video_player" style="text-align: center"><iframe id="video_iframe" class="video_iframe" style="z-index:1;" src="" allowfullscreen="" frameborder="0"></iframe></p> -->
    <p id="video_player" style="text-align: center"><video id="video_iframe" class="video_iframe" controls="controls" x5-video-player-type="h5" x5-video-player-fullscreen="true" x5-video-orientation="landscape" autoplay="autoplay"></p>
    <script type="text/javascript">
    function init_player (url) {
      var video_iframe = document.getElementById("video_iframe");
      if (video_iframe) {
        // video_iframe.src = url + "&amp;width=" + bw + "&amp;height=" + bh + "&amp;tiny=0&amp;auto=0";
        video_iframe.src = url;
        set_viedo_size()
      }
    }

    (function () {
      var supportOrientation=(typeof window.orientation == "number" && typeof window.onorientationchange == "object");
      var video_player = document.getElementById("video_player");
      var updateOrientation = function () {
        var orientation = window.orientation;
        switch (orientation) {
          case 90:
          case -90:
            orientation = "landscape";
            break;
          default:
            orientation = "portrait";
        }
        video_player.setAttribute("class", orientation);
        if (!supportOrientation) {
            // var orientation = (window.innerWidth > window.innerHeight) ? "landscape" : "portrait";
            // video_player.setAttribute("class", orientation);
          video_player.setAttribute("class", orientation);
          video_player.style.width = Math.max(window.innerWidth, window.innerHeight) + 'px';
          video_player.style.height = Math.min(window.innerWidth, window.innerHeight) + 'px';
          var delta = Math.abs(window.innerHeight - window.innerWidth)/2;
          video_player.style.marginTop = (window.innerWidth < window.innerHeight) ? delta + 'px' : '0px';
          video_player.style.marginLeft = (window.innerWidth < window.innerHeight) ? -delta + 'px' : '0px';
          set_viedo_size()
        }
        updateOrientation();
      }

      var init = function () {
        updateOrientation();
        if (supportOrientation) {
          window.addEventListener("orientationchange", updateOrientation, false);
        } else {
          updateOrientation();
        }
      }
      window.addEventListener("DOMContentLoaded", init, false);
    })();

    window.onload = function () {
      // init_player("https://v.qq.com/iframe/player.html?vid=z03554afocw");
      init_player("http://200011375.vod.myqcloud.com/200011375_04e1df28606b86276d1391a75e200f1e1d28498e.f20.mp4");
    }

    function set_viedo_size() {
      var video_iframe = document.getElementById("video_iframe");
      if (video_iframe) {
        var bw = Math.max(window.innerWidth, window.innerHeight);
        var bh = Math.min(window.innerWidth, window.innerHeight);
        video_iframe.width = bw;
        video_iframe.height = bh;
      }
    }
    </script>
  </body>
</html>